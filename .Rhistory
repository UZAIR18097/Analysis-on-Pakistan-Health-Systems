coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))
# Plotting
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)),nudge_y  = 1,check_overlap = T)+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)),nudge_y  = 5,check_overlap = T)+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data)+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))+
geom_label(nudge_y = 2)
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(fill=Gender,stat='identity')
data
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(data,fill= Gender,stat='identity')+
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(data,fill= Gender,stat='identity')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))+
geom_label(nudge_y = 2)
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(x=Age,y=PopPerc,fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))+
#geom_label(nudge_y = 2)
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(x=Age,y=PopPerc+signal*.3,label=abs(PopPerc)))+
#geom_label(nudge_y = 2)
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)))
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)))+
#geom_label(nudge_y = 2)
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),position = 'identity')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender))+
geom_text(aes(label=abs(PopPerc)),position = 'identity')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),position = 'identity')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(nudge_y = 2)
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(nudge_y = 2))
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity')
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'center',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
graphics.off()
data <- pakistan%>%
pivot_longer(names_to = 'Gender', values_to = 'Population', cols = 2:3) %>%
mutate(PopPerc=case_when(Gender=='Male'~round(Population/sum(Population)*100,2),
TRUE~-round(Population/sum(Population)*100,2)),
signal=case_when(Gender=='Male'~1,
TRUE~-1))
data$Age <- as.factor(data$Age_Bracket)
data$Age <- factor(data$Age,levels=unique(data$Age),ordered=TRUE)
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity',vjust = 1.5)+
#geom_text(aes(label=abs(PopPerc)),position = 'identity')+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),vjust = 1.5)+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),vjust = 1.5)+
#geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),vjust = 5)
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
geom_text(aes(label=abs(PopPerc)),vjust = 5,hjust = 5)
# Plotting
ggplot(data,aes(x=Age,y=PopPerc))+
geom_bar(aes(fill=Gender),stat='identity')+
#geom_text(aes(label=abs(PopPerc)),)+
geom_label(aes(label=abs(PopPerc)),position = 'identity',stat ='identity')+
coord_flip()+
scale_fill_manual(name='',values=c('darkred','steelblue'),labels = c("Female","Male"))+
scale_y_continuous(breaks=seq(-20,20,2),
labels=function(x){paste(abs(x),'%')})+
labs(x='',y='Population (%)',
title='Population Pyramid of Pakistan',
subtitle=paste('Sample Size :', format(sum(data$Population),big.mark=',')),
caption ='Source: Pakistan Demographic and Health Survey 2017-2018',)+
cowplot::theme_cowplot()+
theme(axis.text.x=element_text(vjust=.5),
panel.grid.major.y = element_line(color='lightgray',linetype='dashed'),
legend.position = 'top',
legend.justification = 'center')
library(foreign)
library(tidyverse)
#load the health data
F1 <- read.spss(file = "E:/IHI-2/IHI-2 PSLM/Project/IHI-2/Data/PSLM spss data/SecF1.sav",use.value.label=TRUE,to.data.frame=TRUE)
F1 <- as_tibble(F1)
F2 <- read.spss(file = "E:/IHI-2/IHI-2 PSLM/Project/IHI-2/Data/PSLM spss data/SecF2.sav",use.value.label=TRUE,to.data.frame=TRUE)
F2 <- as_tibble(F2)
library(foreign)
library(tidyverse)
F1 <- read.spss(file = "E:/IHI-2/IHI-2 PSLM/Project/IHI-2/Data/PSLM spss data/SecF1.sav",use.value.label=TRUE,to.data.frame=TRUE)
F1 <- as_tibble(F1)
F2 <- read.spss(file = "E:/IHI-2/IHI-2 PSLM/Project/IHI-2/Data/PSLM spss data/SecF2.sav",use.value.label=TRUE,to.data.frame=TRUE)
F2 <- as_tibble(F2)
#load the health data
F1 <- read.spss(file = "E:/IHI-2/Project/IHI-2/Data/PSLM spss data/SecF1.sav",use.value.label=TRUE,to.data.frame=TRUE)
F2 <- read.spss(file = "E:/IHI-2/Project/IHI-2/Data/PSLM spss data/SecF2.sav",use.value.label=TRUE,to.data.frame=TRUE)
F2 <- as_tibble(F2)
secf1 <- select(F1,c(Province,Region,District,SF1q04,SF1q08))
secf2 <- select(F2,c(Province,Region,District, SF2q01,SF2q05,SF2q06,SF2q11,SF2q16))
graphics.off()
secf2
View(secf2)
#select the required data
secf1 <- select(F1,c(Province,Region,District,SF1q04,SF1q08))
secf2 <- select(F2,c(Province,Region,District, SF2q01,SF2q05,SF2q11))
secf2
secf2 <- select(F2,c(Province,Region,District,SF2q05,SF2q11))
#rename the columns
secf1 <- rename(secf1, c(rooms = SF1q04,fuel = SF1q08))
secf2 <- rename(secf2,c())
sec
secf2
secf2 <- select(F2,c(Province,Region,District,SF2q11))
secf2 <- rename(secf2,c(toilet = SF2q11))
secf2
table(secf2$toilet)
summary(secf2$toilet)
sum(secf2$toilet)
length(secf2$toilet)
#rename no toilet = 1, flush connected to open drain =2,flush connected to sewerage =2 ,flush connected to septic tank = 2,
#flush to pit =2 , dry =3, composting toilet and others = 4
levels(secf2$toilet)[levels(secf2$toilet)=="No Toilet"] <- "1"
summary(secf2$toilet)
levels(secf2$toilet)[levels(secf2$toilet)=="No Toilet"] <- "1"
levels(secf2$toilet)[levels(secf2$toilet)=="Flush connected  to open drain"] <- "2"
levels(secf2$toilet)[levels(secf2$toilet)=="Flush connected to public sewerage"] <- "2"
levels(secf2$toilet)[levels(secf2$toilet)=="Flush connected to septic tank"] <- "2"
levels(secf2$toilet)[levels(secf2$toilet)=="Flush connected to pit"] <- "2"
levels(secf2$toilet)[levels(secf2$toilet)=="Dry raised latrine"] <- "3"
levels(secf2$toilet)[levels(secf2$toilet)=="Dry pit latrine"] <- "3"
levels(secf2$toilet)[levels(secf2$toilet)=="Composting Toilet"] <- "4"
levels(secf2$toilet)[levels(secf2$toilet)=="Other (specify_____________)"] <- "4"
summary(secf2$toilet)
levels(secf2$toilet)[levels(secf2$toilet)=="Composting toilet "] <- "4"
summary(secf2$toilet)
levels(secf2$toilet)[levels(secf2$toilet)=="Dry raised latrine "] <- "3"
summary(secf2$toilet)
levels(secf2$toilet)[levels(secf2$toilet)=="Composting toilet "] <- "4"
summary(secf2$toilet)
compos_toil <- filter(secf2,toilet == "Composting toilet" )
compos_toil
levels(secf2$toilet)[levels(secf2$toilet)=="Composting toilet"] <- "4"
table(secf2$toilet)
#TABLE 4
#province wise toilets
province_toilet_used <-
secf2 %>%
filter(Region == " Rural") %>%
group_by(Province) %>%
summarise(Total_responses = sum(fuel== 1,fuel == 2,fuel == 3,fuel == 4,na.rm = TRUE),
no_toilet  = sum(fuel == 1,na.rm = TRUE),
flush = sum(fuel == 2,na.rm = TRUE),
dry_latrine = sum(fuel == 3,na.rm = TRUE),
Others = sum(fuel == 4,na.rm = TRUE),
percent_no_toilet = (firewood/Total_responses)*100,
percent_flush = (fossil/Total_responses)*100,
percent_dry_latrine = (dung_Cake/Total_responses)*100,
percent_Others = (crop_residue/Total_responses)*100,
) %>%
arrange(Province)
#TABLE 4
#province wise toilets
province_toilet_used <-
secf2 %>%
filter(Region == " Rural") %>%
group_by(Province) %>%
summarise(Total_responses = sum(toilet== 1,toilet == 2,toilet == 3,toilet == 4,na.rm = TRUE),
no_toilet  = sum(toilet == 1,na.rm = TRUE),
flush = sum(toilet == 2,na.rm = TRUE),
dry_latrine = sum(toilet == 3,na.rm = TRUE),
Others = sum(toilet == 4,na.rm = TRUE),
percent_no_toilet = (firewood/Total_responses)*100,
percent_flush = (fossil/Total_responses)*100,
percent_dry_latrine = (dung_Cake/Total_responses)*100,
percent_Others = (crop_residue/Total_responses)*100,
) %>%
arrange(Province)
#TABLE 4
#province wise toilets
province_toilet_used <-
secf2 %>%
filter(Region == " Rural") %>%
group_by(Province) %>%
summarise(Total_responses = sum(toilet== 1,toilet == 2,toilet == 3,toilet == 4,na.rm = TRUE),
no_toilet  = sum(toilet == 1,na.rm = TRUE),
flush = sum(toilet == 2,na.rm = TRUE),
dry_latrine = sum(toilet == 3,na.rm = TRUE),
Others = sum(toilet == 4,na.rm = TRUE),
percent_no_toilet = (no_toilet/Total_responses)*100,
percent_flush = (flush/Total_responses)*100,
percent_dry_latrine = (dry_latrine/Total_responses)*100,
percent_Others = (crop_residue/Total_responses)*100,
) %>%
arrange(Province)
#TABLE 4
#province wise toilets
province_toilet_used <-
secf2 %>%
filter(Region == " Rural") %>%
group_by(Province) %>%
summarise(Total_responses = sum(toilet== 1,toilet == 2,toilet == 3,toilet == 4,na.rm = TRUE),
no_toilet  = sum(toilet == 1,na.rm = TRUE),
flush = sum(toilet == 2,na.rm = TRUE),
dry_latrine = sum(toilet == 3,na.rm = TRUE),
Others = sum(toilet == 4,na.rm = TRUE),
percent_no_toilet = (no_toilet/Total_responses)*100,
percent_flush = (flush/Total_responses)*100,
percent_dry_latrine = (dry_latrine/Total_responses)*100,
percent_Others = (Others/Total_responses)*100,
) %>%
arrange(Province)
province_toilet_used
#TABLE 4
#province wise toilets
province_toilet_used <-
secf2 %>%
#filter(Region == " Rural") %>%
group_by(Province) %>%
summarise(Total_responses = sum(toilet== 1,toilet == 2,toilet == 3,toilet == 4,na.rm = TRUE),
no_toilet  = sum(toilet == 1,na.rm = TRUE),
flush = sum(toilet == 2,na.rm = TRUE),
dry_latrine = sum(toilet == 3,na.rm = TRUE),
Others = sum(toilet == 4,na.rm = TRUE),
percent_no_toilet = (no_toilet/Total_responses)*100,
percent_flush = (flush/Total_responses)*100,
percent_dry_latrine = (dry_latrine/Total_responses)*100,
percent_Others = (Others/Total_responses)*100,
) %>%
arrange(Province)
province_toilet_used
table(secf2$toilet)
#TABLE 6
#province wise toilets
district_toilet_used <-
secf2 %>%
filter(Region == " Rural") %>%
group_by(District) %>%
summarise(Total_responses = sum(toilet== 1,toilet == 2,toilet == 3,toilet == 4,na.rm = TRUE),
no_toilet  = sum(toilet == 1,na.rm = TRUE),
flush = sum(toilet == 2,na.rm = TRUE),
dry_latrine = sum(toilet == 3,na.rm = TRUE),
Others = sum(toilet == 4,na.rm = TRUE),
percent_no_toilet = (no_toilet/Total_responses)*100,
percent_flush = (flush/Total_responses)*100,
percent_dry_latrine = (dry_latrine/Total_responses)*100,
percent_Others = (Others/Total_responses)*100,
) %>%
arrange(District)
district_toilet_used
write.csv(x = district_toilet_used,file = "E:\IHI-2\Project\IHI-2\tables\Socia Living Measurement/district_toilet_used.csv")
write.csv(x = district_toilet_used,file = "E:/IHI-2/Project/IHI-2/tables/Socia Living Measurement/district_toilet_used.csv")
